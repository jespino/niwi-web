{% extends "niwi/base.html" %}
{% load i18n %}
{% load utils %}
{% load url from future %}

{% block title %} {% trans "- Home page." %}{% endblock %}

{% block opengraph %}
<meta property="og:title" content="{{ page_default_title }} Page"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="{{ full_host_url }}" />
<meta property="og:image" content="{{ page_default_logo_url }}"/>
{% endblock %}

{% block html-head %}
<!-- TODO: set this on settings -->
<meta name="Keywords" content="{{ page_default_keyworkds }}" />
<meta name="Description" content="{{ page_default_description }}" />
{% endblock %}


{% block main %}
{{ block.super }}
<section>
    <h2>{% trans "Recent Entries" %}</h2>
    <hr />
    {% for post in posts %}
    <article>
        <h3>{{ post.title }}</h3>
        <p>{{ post.content|markdown|striptags|truncatewords:30 }}</p>
        <p><span class="meta">Published on {{ post.created_date|date:"j F Y" }}</span> | 
            <a class="navigation" href="{{ post.get_absolute_url }}">Read full entry</a> ↵<br />
            {% if post.tags %}{{ post.tags|parse_tags }}{% endif %}
        </p>
    </article>
    {% endfor %}
    <p class="navigation bottom tright"><a href="{% url "web:posts" %}">See more entries</a> →</p>
</section>
{% endblock %}
